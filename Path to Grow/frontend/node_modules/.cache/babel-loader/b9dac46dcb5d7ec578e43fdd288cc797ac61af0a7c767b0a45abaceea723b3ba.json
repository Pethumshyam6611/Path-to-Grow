{"ast":null,"code":"import axios from \"axios\";\nconst API_URL = \"http://localhost:5000/auth\"; // Ensure backend is running on this port\n\n// ✅ Google Login\nexport const googleLogin = () => {\n  window.open(`${API_URL}/google`, \"_self\"); // Redirects to backend Google login\n};\n\n// ✅ Logout Function\nexport const logout = async () => {\n  try {\n    await axios.get(`${API_URL}/logout`, {\n      withCredentials: true\n    });\n    localStorage.removeItem(\"user\");\n    window.location.href = \"/\";\n  } catch (error) {\n    console.error(\"Logout failed:\", error);\n  }\n};\n\n// ✅ Fetch Logged-in User\nexport const getCurrentUser = async () => {\n  try {\n    const res = await axios.get(`${API_URL}/user`, {\n      withCredentials: true\n    });\n    return res.data || null; // Returns user data if authenticated\n  } catch (error) {\n    console.error(\"Error fetching user:\", error);\n    return null;\n  }\n};","map":{"version":3,"names":["axios","API_URL","googleLogin","window","open","logout","get","withCredentials","localStorage","removeItem","location","href","error","console","getCurrentUser","res","data"],"sources":["F:/Final Semester/Disertation Project/Path to Grow/frontend/src/services/authService.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nconst API_URL = \"http://localhost:5000/auth\"; // Ensure backend is running on this port\r\n\r\n// ✅ Google Login\r\nexport const googleLogin = () => {\r\n  window.open(`${API_URL}/google`, \"_self\"); // Redirects to backend Google login\r\n};\r\n\r\n// ✅ Logout Function\r\nexport const logout = async () => {\r\n  try {\r\n    await axios.get(`${API_URL}/logout`, { withCredentials: true });\r\n    localStorage.removeItem(\"user\");\r\n    window.location.href = \"/\";\r\n  } catch (error) {\r\n    console.error(\"Logout failed:\", error);\r\n  }\r\n};\r\n\r\n// ✅ Fetch Logged-in User\r\nexport const getCurrentUser = async () => {\r\n  try {\r\n    const res = await axios.get(`${API_URL}/user`, { withCredentials: true });\r\n    return res.data || null; // Returns user data if authenticated\r\n  } catch (error) {\r\n    console.error(\"Error fetching user:\", error);\r\n    return null;\r\n  }\r\n};\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,4BAA4B,CAAC,CAAC;;AAE9C;AACA,OAAO,MAAMC,WAAW,GAAGA,CAAA,KAAM;EAC/BC,MAAM,CAACC,IAAI,CAAC,GAAGH,OAAO,SAAS,EAAE,OAAO,CAAC,CAAC,CAAC;AAC7C,CAAC;;AAED;AACA,OAAO,MAAMI,MAAM,GAAG,MAAAA,CAAA,KAAY;EAChC,IAAI;IACF,MAAML,KAAK,CAACM,GAAG,CAAC,GAAGL,OAAO,SAAS,EAAE;MAAEM,eAAe,EAAE;IAAK,CAAC,CAAC;IAC/DC,YAAY,CAACC,UAAU,CAAC,MAAM,CAAC;IAC/BN,MAAM,CAACO,QAAQ,CAACC,IAAI,GAAG,GAAG;EAC5B,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,gBAAgB,EAAEA,KAAK,CAAC;EACxC;AACF,CAAC;;AAED;AACA,OAAO,MAAME,cAAc,GAAG,MAAAA,CAAA,KAAY;EACxC,IAAI;IACF,MAAMC,GAAG,GAAG,MAAMf,KAAK,CAACM,GAAG,CAAC,GAAGL,OAAO,OAAO,EAAE;MAAEM,eAAe,EAAE;IAAK,CAAC,CAAC;IACzE,OAAOQ,GAAG,CAACC,IAAI,IAAI,IAAI,CAAC,CAAC;EAC3B,CAAC,CAAC,OAAOJ,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;IAC5C,OAAO,IAAI;EACb;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}